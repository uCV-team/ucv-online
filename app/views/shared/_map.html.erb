<% content_for :header do %>
  <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v0.53.1/mapbox-gl.js'></script>
  <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v0.53.1/mapbox-gl.css' rel='stylesheet' />
  <!--
      Use Unwired Maps JS & CSS in addition to Mapbox's GL library for the simplest implementation of Unwired Map Tiles
  -->
  <script src='https://tiles.unwiredmaps.com/v2/js/unwired-gl.js?v=0.1.6'></script>
  <link href='https://tiles.unwiredmaps.com/v2/js/unwired-gl.css?v=0.1.6' rel='stylesheet' />
  <% markerImagePath = asset_pack_path('images/marker.png') %>

  <style>
      body { margin:0px; padding:0px; }
      #map { position:relative; top:0px; bottom:0px; width:100%; height:40rem;}
      .marker {
          background-image: url("<%= markerImagePath %>");
          background-size: cover;
          width: 40px;
          height: 40px;
          cursor: pointer;
      }
      @media screen and (max-width: 992px) {
        #map {
          height: 35rem;
        }
      }
  </style>
<% end %>

<script>
  setUnwiredApiToken('<%= api_token %>');
  window.fetch_markers_url = '<%= cv_markers_path %>';
</script>
